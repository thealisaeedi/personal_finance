{% extends 'base.html' %}
{% block title %} Transaction List {% endblock title %}
{% block content %}
    <div class="container mx-auto p-6 max-w-5xl">

        <h1 class="text-3xl font-bold text-white mb-8 text-center">Your Transactions</h1>

        <!-- Transaction List Card -->
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700">

            {% if transactions %}
                <div class="space-y-3">
                    {% for transaction in transactions %}
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 bg-gray-700 rounded-lg hover:bg-gray-600 transition-all duration-200 border border-gray-600">
                            
                            <!-- Left: Date & Type -->
                            <div class="flex items-center space-x-3 mb-2 sm:mb-0">
                                <span class="text-sm font-medium text-gray-300">{{ transaction.date }}</span>
                                <span class="px-3 py-1 text-xs font-semibold rounded-full 
                                    {% if transaction.type == 'IN' %}bg-green-900 text-green-300 border border-green-700
                                    {% else %}bg-red-900 text-red-300 border border-red-700{% endif %}">
                                    {{ transaction.get_type_display }}
                                </span>
                            </div>

                            <!-- Center: Amount -->
                            <div class="text-lg font-bold 
                                {% if transaction.type == 'IN' %}text-green-400
                                {% else %}text-red-400{% endif %}">
                                {% if transaction.type == 'IN' %}+{% else %}-{% endif %}{{ transaction.amount }}
                            </div>

                            <!-- Right: Description & Category -->
                            <div class="text-sm text-gray-400 text-right sm:text-left mt-1 sm:mt-0">
                                <span class="block sm:inline">{{ transaction.description|default:"â€”" }}</span>
                                {% if transaction.category %}
                                    <span class="inline-block ml-2 px-2 py-1 bg-gray-600 text-gray-300 text-xs rounded">
                                        {{ transaction.category }}
                                    </span>
                                {% else %}
                                    <span class="inline-block ml-2 text-xs text-gray-500">No Category</span>
                                {% endif %}
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="text-center py-12">
                    <p class="text-gray-400 text-lg">No transactions yet.</p>
                    <p class="text-gray-500 mt-2">Start by adding your first transaction!</p>
                </div>
            {% endif %}

        </div>

        <!-- Add Button -->
        <div class="mt-8 text-center">
            <a href="{% url 'add_transaction' %}"
               class="inline-block px-8 py-3 bg-green-600 text-white font-medium rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition">
                Add New Transaction
            </a>
        </div>

        <!-- Back to Report Link -->
        <div class="mt-4 text-center">
            <a href="{% url 'report' %}"
               class="inline-block px-6 py-2 bg-indigo-600 text-white text-sm rounded-md hover:bg-indigo-700 transition">
                View Financial Report
            </a>
        </div>

    </div>
{% endblock %}